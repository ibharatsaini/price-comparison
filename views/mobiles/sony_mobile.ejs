<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>
        <%= data.a %> Mobile Phones Prices in India | Compare Prices of <%= data.a %> Phones in India
    </title>

    <link href="/stylesheets/nouislider.css" rel="stylesheet">
    <script src="/javascripts/nouislider.js"></script>
    <!-- <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script> -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>


    <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-mobile/1.4.5/jquery.mobile.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-mobile/1.4.5/jquery.mobile.min.js"></script>
 -->

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <!-- <link rel="stylesheet" href="https://fonts.htc.com/specimen/Amarante?selection.family=Amarante"> -->
    <!-- <link rel="stylesheet" href="https://fonts.htcapis.com/icon?family=Material+Icons"> -->



    <link href='https://fonts.googleapis.com/css?family=Roboto' rel='stylesheet'>
    <!-- <link rel="stylesheet" type="text/css" href="/stylesheets/searchresult.css"> -->
    <link rel="stylesheet" type="text/css" href="/stylesheets/searchresultMobile.css">
    <link rel="stylesheet" type="text/css" href="/stylesheets/searchresultTab.css">
    <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script> -->
    <!-- <script src="/javascripts/a.js"></script> -->

</head>

<body>
    <div class="overlay">
        <div class="messageBox">
            <h4></h4>
            <div>Remove Products</div>
        </div>
    </div>


    <div id="disableBody"></div>
    <div id="animating">
        <div id="closePopUp"><span>&times;</span></div>
        <div id="popBody">
            <div class="inputOfForm">
                <form type="GET" class="thisisForm" action="/search">
                    <input type="text" placeholder="Search for millions Of Products" name="q" id="newSearchBox"
                        autocomplete="off">
                    <div class="searchIcon"><span class="fa ">&#x26B2;</span></div>
                </form>
            </div>
            <div id="recommendations">
            </div>
        </div>
    </div>
    <div id="alertBox">
        <div id="closePopUp"><span>&times;</span></div>
        <div id="relating"></div>
    </div>
    <div id="headFixing">
        <header id="headContainer">
            <div onclick="slideIt()" class='horizontalBars'>
                <div class="border" data-pos="180">
                    <div class="bar"></div>
                    <div class="bar"></div>
                    <div class="bar"></div>
                </div>
            </div>
            <form method="GET" class="newone" action="/search">
                <div class="searchBarFlex">
                    <input type="text" placeholder="Search For Millions Of Products" name="q" id="searchBar" value="">
                    <div id="searchIcon" type="submit"><span class="fa">&#x26B2;</span></div>
                </div>
            </form>
        </header>
    </div>
    <div class="mainBody">
        <div onclick="repeater(event)" id="filterBarHead">
            <div id="filterBar">
                <div id="catg">
                    <div class="he">
                        <h4> Categories</h4>
                    </div>
                    <a title="Mobile" href="/mobile">Mobiles</a>
                    <a title="Headphones" href="/headphone">Headphones</a>
                    <a title="laptops" href="/laptop">Laptops</a>
                    <a title="Desktop" href="/desktop">Desktops</a>
                    <!-- <a title="Speaker" href="/speaker">Speakers</a> -->
                    <!-- <a title="Home Theaters" href="/home-theater">Home Theaters</a> -->
                    <a title="Appliances" href="/appliance">Appliances</a>
                    <a title="Refridgerator" href="/refridgerator">Refridgerators</a>
                    <a title="LEDs" href="/led">LEDs</a>
                    <!-- <a title="Fit Bands" href="/fit-band">Fit Bands</a> -->
                </div>
                <div id="allFilters">
                    <!-- <div class="divFilterHeading">
                    <h3 class="h3Heading">Filters</h3>
                </div> -->
                    <div Class="divOfPricesFilter">
                        <div class="he">

                            <h4>Price</h4>
                            <button type="button" value="pr">Clear</button>

                        </div>
                        <div class="inputTake">

                            <div class="FromTo">
                                <!-- <div></div> -->
                                <span>From</span>
                                <span>To</span>
                                <!-- <button type="button" class="filBut" value="pr">clear</button> -->
                            </div>
                            <div id="priceApi">
                                <label for="min">&#x20B9;</label>
                                <input type="text" id="min" value="">
                                <label for="max">&#x20B9;</label>
                                <input type="text" id="max" value="">
                            </div>
                            <!-- <div data-role="page">
                                <div role="main" class="ui-content">
                                    <form>
                                        <div data-role="rangeslider">
                                 
                                            <input onchange="sliding(this)" type="range" name="r1" id="r1" min="" max=""
                                                value="">
                                         
                                            <input onchange="sliding(this)" type="range" name="r2" id="r2" min="" max=""
                                                value="">
                                        </div>
                                    </form>
                                </div>
                            </div> -->
                            <div id='slider'></div>
                        </div>
                    </div>
                    <div class="divOfPayDelivery">
                        <div class="he">
                            <h4>Delivery</h4>
                            <button type="button" value="pd">Clear</button>
                        </div>
                        <div>
                            <label id="labelOfBrand" for="COD">
                                <input type="checkbox" id="COD" name="delivery" value="COD" onClick="disabling(this)">
                                <span class="spanOfBox"></span>
                                <span class="spanforCheckBox"></span>
                                <span style="display: inline-block; margin-left: 30px;color:black;">Pay On
                                    Delivery</span>
                            </label>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="mainBody">


            <div class="siteMap">
                <a href="/">Home</a>><a href="/mobile/">Mobile</a>><a href="">
                    <%= data.a %> Smartphones
                </a>
            </div>
            <div class="h1title">
                <h1 title="<%= data.a %> Mobile prices in India">
                    <%= data.a %> Mobile Phones Prices Across All e-Stores
                </h1>
                <div class="drop" style="padding-bottom: 2px;">
                    <label for="sb">Sort by:</label>
                    <select name="sb" id="sb" value="">
                        <option value="rel" class="styling">Relevance</option>
                        <option value="l">Low to High</option>
                        <option value="p">Hight to Low</option>
                    </select>
                </div>
            </div>
            <div class="results"><a class="resultsCont" href="/mobile/sony-mobiles/sony--xperia-z/ZToyNDk1">
                    <div class="imagesOuter">
                        <div class="imageChecking"><img
                                src="https://images-api.datayuge.in/image/dHI6dy0xNDAwLGgtMTQwMCxjLWF0X21heC8yNDk1LTIwLTE.jpg"
                                class="imageClass"></div>
                    </div>
                    <div class="titleDiv">
                        <h3 class="title">Sony Xperia Z</h3>
                        <div class="review">
                            <div><span>4.3/5</span><img src="/images/star.png"></div>
                        </div>
                        <div class="mrpTag"><span>₹33490</span><span>₹38990</span><span>14% Off!</span></div>
                        <div class="specsKey"></div>
                    </div>
                    <div class="pricesDiv">
                        <table class="tableOfLogo">
                            <tr>
                                <td><img src="https://images-api.datayuge.in/image/YW1hem9uX3N0b3JlLnBuZw.png"></td>
                                <td><a
                                        href="https://price-api.datayuge.com/redirect?id=aHR0cHM6Ly93d3cuYW1hem9uLmluL2dwL29mZmVyLWxpc3RpbmcvQjAwQ1NGRlEyQy8_JnRhZz1wcmljZXl1Z2UwZC0yMQ">
                                        <h4 style="font-size: 2vw; font-weight: 400;">₹33490</h4>
                                    </a></td>
                            </tr>
                        </table>
                        <div class="compareDivision"><label class="labelOfCompare" for="ZToyNDk1"><input
                                    onclick="comp(this)" id="ZToyNDk1" type="checkbox" name="mobile"
                                    value="ZToyNDk1"><span class="spanOfBox"></span><span
                                    class="spanforCheckBox"></span><span
                                    style="display: inline-block; margin-left: 30px; color: rgb(85, 26, 139);">Compare
                                    Specs</span></label></div>
                    </div>
                </a><a class="resultsCont" href="/mobile/sony-mobiles/sony-xperia-c4-dual/ZTo3MDEx">
                    <div class="imagesOuter">
                        <div class="imageChecking"><img
                                src="https://images-api.datayuge.in/image/dHI6dy0xNDAwLGgtMTQwMCxjLWF0X21heC83MDExLTY3LTE.jpg"
                                class="imageClass"></div>
                    </div>
                    <div class="titleDiv">
                        <h3 class="title">Sony Xperia C4 Dual</h3>
                        <div class="review">
                            <div><span>3.6/5</span><img src="/images/star.png"></div>
                        </div>
                        <div class="mrpTag"><span>₹23499</span><span>₹29490</span><span>20% Off!</span></div>
                        <div class="specsKey"></div>
                    </div>
                    <div class="pricesDiv">
                        <table class="tableOfLogo">
                            <tr>
                                <td><img src="https://images-api.datayuge.in/image/YW1hem9uX3N0b3JlLnBuZw.png"></td>
                                <td><a
                                        href="https://price-api.datayuge.com/redirect?id=aHR0cHM6Ly93d3cuYW1hem9uLmluL2dwL29mZmVyLWxpc3RpbmcvQjAwWjY3RVJBUS8_JnRhZz1wcmljZXl1Z2UwZC0yMQ">
                                        <h4 style="font-size: 2vw; font-weight: 400;">₹23499</h4>
                                    </a></td>
                            </tr>
                        </table>
                        <div class="compareDivision"><label class="labelOfCompare" for="ZTo3MDEx"><input
                                    onclick="comp(this)" id="ZTo3MDEx" type="checkbox" name="mobile"
                                    value="ZTo3MDEx"><span class="spanOfBox"></span><span
                                    class="spanforCheckBox"></span><span
                                    style="display: inline-block; margin-left: 30px; color: rgb(85, 26, 139);">Compare
                                    Specs</span></label></div>
                    </div>
                </a><a class="resultsCont" href="/mobile/sony-mobiles/sony-xperia-e4-dual/ZTo1ODcz">
                    <div class="imagesOuter">
                        <div class="imageChecking"><img
                                src="https://images-api.datayuge.in/image/dHI6dy0xNDAwLGgtMTQwMCxjLWF0X21heC81ODczLTE2MS0x.jpg"
                                class="imageClass"></div>
                    </div>
                    <div class="titleDiv">
                        <h3 class="title">Sony Xperia E4 Dual</h3>
                        <div class="review">
                            <div><span>3.8/5</span><img src="/images/star.png"></div>
                        </div>
                        <div class="mrpTag"><span>₹7990</span><span>₹12490</span><span>36% Off!</span></div>
                        <div class="specsKey"></div>
                    </div>
                    <div class="pricesDiv">
                        <table class="tableOfLogo">
                            <tr>
                                <td><img src="https://images-api.datayuge.in/image/YW1hem9uX3N0b3JlLnBuZw.png"></td>
                                <td><a
                                        href="https://price-api.datayuge.com/redirect?id=aHR0cHM6Ly93d3cuYW1hem9uLmluL2dwL29mZmVyLWxpc3RpbmcvQjAwVVo1TzNYSy8_JnRhZz1wcmljZXl1Z2UwZC0yMQ">
                                        <h4 style="font-size: 2vw; font-weight: 400;">₹7990</h4>
                                    </a></td>
                            </tr>
                        </table>
                        <div class="compareDivision"><label class="labelOfCompare" for="ZTo1ODcz"><input
                                    onclick="comp(this)" id="ZTo1ODcz" type="checkbox" name="mobile"
                                    value="ZTo1ODcz"><span class="spanOfBox"></span><span
                                    class="spanforCheckBox"></span><span
                                    style="display: inline-block; margin-left: 30px; color: rgb(85, 26, 139);">Compare
                                    Specs</span></label></div>
                    </div>
                </a><a class="resultsCont" href="/mobile/sony-mobiles/sony-xperia-l2/ZToxMzk1Mg">
                    <div class="imagesOuter">
                        <div class="imageChecking"><img
                                src="https://images-api.datayuge.in/image/dHI6dy0xNDAwLGgtMTQwMCxjLWF0X21heC8xMzk1Mi0xMi0x.jpg"
                                class="imageClass"></div>
                    </div>
                    <div class="titleDiv">
                        <h3 class="title">Sony Xperia L2</h3>
                        <div class="review">
                            <div><span>4/5</span><img src="/images/star.png"></div>
                        </div>
                        <div class="mrpTag"><span>₹85900</span><span>₹85900</span><span>0% Off!</span></div>
                        <div class="specsKey"></div>
                    </div>
                    <div class="pricesDiv">
                        <table class="tableOfLogo">
                            <tr>
                                <td><img src="https://images-api.datayuge.in/image/YW1hem9uX3N0b3JlLnBuZw.png"></td>
                                <td><a
                                        href="https://price-api.datayuge.com/redirect?id=aHR0cHM6Ly93d3cuYW1hem9uLmluL2dwL29mZmVyLWxpc3RpbmcvQjA3N1pNV1gxVy8_JnRhZz1wcmljZXl1Z2UwZC0yMQ">
                                        <h4 style="font-size: 2vw; font-weight: 400;">₹85900</h4>
                                    </a></td>
                            </tr>
                        </table>
                        <div class="compareDivision"><label class="labelOfCompare" for="ZToxMzk1Mg"><input
                                    onclick="comp(this)" id="ZToxMzk1Mg" type="checkbox" name="mobile"
                                    value="ZToxMzk1Mg"><span class="spanOfBox"></span><span
                                    class="spanforCheckBox"></span><span
                                    style="display: inline-block; margin-left: 30px; color: rgb(85, 26, 139);">Compare
                                    Specs</span></label></div>
                    </div>
                </a><a class="resultsCont" href="/mobile/sony-mobiles/sony-xperia-m5-dual/ZTo4Mzkx">
                    <div class="imagesOuter">
                        <div class="imageChecking"><img
                                src="https://images-api.datayuge.in/image/dHI6dy0xNDAwLGgtMTQwMCxjLWF0X21heC84MzkxLTQzLTE.jpg"
                                class="imageClass"></div>
                    </div>
                    <div class="titleDiv">
                        <h3 class="title">Sony Xperia M5 Dual</h3>
                        <div class="review">
                            <div><span>3.7/5</span><img src="/images/star.png"></div>
                        </div>
                        <div class="mrpTag"><span>₹27590</span><span>₹37990</span><span>27% Off!</span></div>
                        <div class="specsKey"></div>
                    </div>
                    <div class="pricesDiv">
                        <table class="tableOfLogo">
                            <tr>
                                <td><img src="https://images-api.datayuge.in/image/YW1hem9uX3N0b3JlLnBuZw.png"></td>
                                <td><a
                                        href="https://price-api.datayuge.com/redirect?id=aHR0cHM6Ly93d3cuYW1hem9uLmluL2dwL29mZmVyLWxpc3RpbmcvQjAxNTRMUThTTS8_JnRhZz1wcmljZXl1Z2UwZC0yMQ">
                                        <h4 style="font-size: 2vw; font-weight: 400;">₹27590</h4>
                                    </a></td>
                            </tr>
                        </table>
                        <div class="compareDivision"><label class="labelOfCompare" for="ZTo4Mzkx"><input
                                    onclick="comp(this)" id="ZTo4Mzkx" type="checkbox" name="mobile"
                                    value="ZTo4Mzkx"><span class="spanOfBox"></span><span
                                    class="spanforCheckBox"></span><span
                                    style="display: inline-block; margin-left: 30px; color: rgb(85, 26, 139);">Compare
                                    Specs</span></label></div>
                    </div>
                </a><a class="resultsCont" href="/mobile/sony-mobiles/sony-xperia-xa1/ZToxMjIwMQ">
                    <div class="imagesOuter">
                        <div class="imageChecking"><img
                                src="https://images-api.datayuge.in/image/dHI6dy0xNDAwLGgtMTQwMCxjLWF0X21heC8xMjIwMS0yNjctMQ.jpg"
                                class="imageClass"></div>
                    </div>
                    <div class="titleDiv">
                        <h3 class="title">Sony Xperia XA1</h3>
                        <div class="review">
                            <div><span>3.7/5</span><img src="/images/star.png"></div>
                        </div>
                        <div class="mrpTag"><span>₹12999</span><span>₹20990</span><span>38% Off!</span></div>
                        <div class="specsKey"></div>
                    </div>
                    <div class="pricesDiv">
                        <table class="tableOfLogo">
                            <tr>
                                <td><img src="https://images-api.datayuge.in/image/YW1hem9uX3N0b3JlLnBuZw.png"></td>
                                <td><a
                                        href="https://price-api.datayuge.com/redirect?id=aHR0cHM6Ly93d3cuYW1hem9uLmluL2dwL29mZmVyLWxpc3RpbmcvQjA2WTQ0TDMzQi8_JnRhZz1wcmljZXl1Z2UwZC0yMQ">
                                        <h4 style="font-size: 2vw; font-weight: 400;">₹12999</h4>
                                    </a></td>
                            </tr>
                        </table>
                        <div class="compareDivision"><label class="labelOfCompare" for="ZToxMjIwMQ"><input
                                    onclick="comp(this)" id="ZToxMjIwMQ" type="checkbox" name="mobile"
                                    value="ZToxMjIwMQ"><span class="spanOfBox"></span><span
                                    class="spanforCheckBox"></span><span
                                    style="display: inline-block; margin-left: 30px; color: rgb(85, 26, 139);">Compare
                                    Specs</span></label></div>
                    </div>
                </a></div>
            <div class="divOfPopUp">
                <h4>COMPARE</h4>
            </div>

        </div>
        <script>
            var brandName = "<%= data.a %>"
            console.log(brandName);


            // var range = document.getElementById('slider');

            // noUiSlider.create(range, {

            //     range: {
            //         'min': 1300,
            //         'max': 3250
            //     },

            //     step: 150,

            //     // Handles start at ...
            //     start: [1450, 2050, 2350, 3000],

            //     // ... must be at least 300 apart
            //     margin: 300,

            //     // ... but no more than 600
            //     limit: 600,

            //     // Display colored bars between handles
            //     connect: true,

            //     // Put '0' at the bottom of the slider
            //     direction: 'rtl',
            //     orientation: 'vertical',

            //     // // Move handle on tap, bars are draggable
            //     // behaviour: 'tap-drag',
            //     // tooltips: true,
            //     // format: wNumb({
            //     //     decimals: 0
            //     // }),

            //     // Show a scale with the slider
            //     pips: {
            //         mode: 'steps',
            //         stepped: true,
            //         density: 4
            //     }
            // });

            // part of slider function
            function repeater(e) {
                // console.log(e)
                if (e == 'filterBarHead') {
                    var a = e;
                } else {
                    a = e.target.id;
                }
                if (a == 'filterBarHead') {
                    document.getElementById('filterBarHead').style.transform = 'translate3d(-100%, 0px, 0px)';
                    document.body.style.overflow = 'auto';
                    document.getElementById('mainBody').style.opacity = '1'
                }
            }
            // slider function
            document.getElementById('filterBarHead').style.transform = 'translate3d(-100%, 0px, 0px)';
            function slideIt() {
                //console.log(document.getElementById('filterBarHead').style.transform)
                if (document.getElementById('filterBarHead').style.transform == 'translate3d(-100%, 0px, 0px)') {
                    document.getElementById('filterBarHead').style.transform = 'translate3d(0%, 0px, 0px)';
                    document.getElementById('mainBody').style.opacity = '0.5'
                    document.body.style.overflow = 'hidden';
                } else {
                    repeater("filterBarHead")
                }
            }

            var filterBar = document.getElementById('filterBar');
            filterBar.style.height = window.screen.height - document.getElementById('headFixing').offsetHeight + "px";
            let xhttp = new XMLHttpRequest()
            var response;

            console.log(xhttp)
            let path = `/json/mobile/${brandName}`
            xhttp.open('GET', path, false)
            xhttp.onreadystatechange = function () {
                if (this.readyState == 4 && this.status == 200) {
                    console.log('new')
                    response = this.responseText
                    // console.log(response)
                }
            }
            // link ="/mobile/xiaomi-mobile/xiaomi-redmi-note-9/ID"
            xhttp.send()
            response = JSON.parse(response)
            console.log(typeof (response))
            //ye hatanahai
            // for (let i = 0; i < response.data.length; i++) {
            //     creatingBody(response.data[i])
            //     response.data[i].stores.sort((y, x) => {
            //         return parseFloat(y.price) - parseFloat(x.price)
            //     })
            // }
            console.log(response)
            // console.log(response)
            var smallest = 0
            var greatest = 0;
            console.log(smallest)
            console.log(greatest)
            // console.log("sortedData "+sortedData.length)
            // for (let q = 0; q < response.data.length; q++) {
            //     // console.log('ye hai sorted data')
            //     console.log(response.data[q].stores[0].price)
            //     // // i
            //     // console.log(smallest ,greatest)
            //     // smallNo = parseInt(response.data[smallest].stores[0].price)
            //     // console.log(typeof(response.data[smallest].stores[0].price ))
            //     // console.log(response.data[greatest].stores[0].price)
            //     // console.log(response.data[smallest].stores[0].price >= response.data[q].stores[0].price)
            //     // console.log(response.data[smallest].stores[0].price >= response.data[q].stores[0].price)
            //     if (response.data[smallest].stores[0].price >= response.data[q].stores[0].price) {
            //         smallest = q
            //         console.log('smallest is updated to ', response.data[smallest].stores[0].price)
            //     } else if (response.data[greatest].stores[0].price < response.data[q].stores[0].price) {
            //         greatest = q
            //         console.log('greatest is updated to ', response.data[greatest].stores[0].price)
            //     }
            //     console.log('hone ke baad')
            //     console.log(smallest ,greatest)
            // }

            for (let q = 0; q < response.data.length; q++) {
                console.log('ye hai sorted data')
                // console.log(sortedData[q])
                // i
                let iterNum = parseInt(response.data[q].stores[0].price)
                let smallNum = parseInt(response.data[smallest].stores[0].price)
                let greatNum = parseInt(response.data[greatest].stores[0].price)
                if (smallNum >= iterNum) {
                    smallest = q
                    console.log('smallest is updated to ', smallNum)
                } else if (greatNum < iterNum) {
                    greatest = q
                    console.log('greates is updated to ', greatNum)
                }
            }
            var smallNum = parseFloat(response.data[smallest].stores[0].price)
            var greatNum = parseFloat(response.data[greatest].stores[0].price)

            var slider = document.getElementById('slider');
            var min = document.getElementById("min");
            var max = document.getElementById('max');
            noUiSlider.create(slider, {
                start: [smallNum, greatNum],
                connect: true,
                range: {
                    'min': smallNum,
                    'max': greatNum
                }
            });

            slider.noUiSlider.on('update', function (values, handle) {
                console.log('triggered')
                if (handle === 0) {
                    console.log(min)
                    console.log(values, handle)
                    min.value = parseFloat(values[handle]);
                } else {
                    max.value = parseFloat(values[handle]);
                }
                // console.log('inside')
                // console.log(min,max)
                if (min.value == smallNum && max.value == greatNum) {
                    console.log('inti')
                    $('button[value="pr"]').css({
                        'display': 'none'
                    })

                } else {
                    console.log('block')
                    $('button[value="pr"]').css({
                        'display': 'block'
                    })

                }
                let val = $('#sb').val()
                let clone2 = JSON.parse(JSON.stringify(response))
                if (val == "l") {
                    clone2.data.sort((y, x) => { return y.stores[0].price - x.stores[0].price })
                    payonDelivery(clone2.data, parseFloat($('#min').val()), parseFloat($('#max').val()))
                } else if (val == "p") {
                    clone2.data.sort((y, x) => { return x.stores[0].price - y.stores[0].price })
                    payonDelivery(clone2.data, parseFloat($('#min').val()), parseFloat($('#max').val()))
                } else {
                    payonDelivery(response.data, parseFloat($('#min').val()), parseFloat($('#max').val()))
                }
                // payonDelivery(response.data, min.value, max.value);
                // payonDelivery(response.data, parseFloat($('#min').val()), parseFloat($('#max').val()))
            });
            // slider.noUiSlider.on('update', function (values, handle) {
            //     if (handle === 0) {
            //         inputLog.value = values[handle];
            //     }
            // });

            // inputLog.addEventListener('change', function () {
            //     slider.noUiSlider.set([this.value, null]);
            // });
            console.log(response.data[smallest].stores[0].price, response.data[greatest].stores[0].price)
            // for(let i=0; i<)
            // var data;

            // min.setAttribute('value', smallNum)
            // max.setAttribute('value', greatNum)
            // document.getElementById('min').value = smallNum;
            // document.getElementById('max').value = greatNum;
            // //max.value = greatNum
            // min.setAttribute('min', smallNum)
            // min.setAttribute('max', greatNum)
            // max.setAttribute('max', greatNum)
            // max.setAttribute('min', smallNum)
            /* $('#slider').SLIDER({
                 range: true,
                 min: (smallNum),
                 max: (greatNum),
                 values: [(smallNum), (greatNum)],
                 // values:[parseFloat(sortedData[0].product_lowest_price),parseFloat(sortedData[sortedData.length-1].product_lowest_price)],
                 slide: (event, ui) => {
                     // whenSliding(ui.values[0], ui.values[1])
                     min.value = ui.values[0];
                     // var max = document.getElementById('max');
                     max.value = ui.values[1];
                 },
                 change: (event, ui) => {
 
                     let resultsCont = document.getElementsByClassName('resultsCont');
                     let results = document.getElementsByClassName('results')[0];
                     // results.innerHTML = "";
                     // console.log(newJson)
                     // storeName = Object.keys(newJson[0].data.stores)
                     // console.log(storeName)
                     if (ui.values[0] == smallNum & ui.values[1] == greatNum) {
 
                         $('button[value="pr"]').css({
                             'display': 'none'
                         })
 
                     } else {
                         $('button[value="pr"]').css({
                             'display': 'block'
                         })
 
                     }
                     payonDelivery(response.data, ui.values[0], ui.values[1])
                     // for(let qq=0; qq<newJson.length; qq++){
                     //     if(sortedData[qq].product_lowest_price > ui.values[0] && sortedData[qq].product_lowest_price < ui.values[1]){
                     //         creatingBody(sortedData[qq],newJson[qq],specs[qq],ui.values[0],ui.values[1])
                     //     }
                     // }
                 }
             });*/
            // function sliding1(e) {
            //     console.log(e)
            //     // console.log(e.value)
            //     // document.getElementById('min').value = e.value;
            //     // payonDelivery()
            // }
            // function sliding2(e) {
            //     console.log(e.value)
            //     document.getElementById('max').value = e.value;
            // }

            function sliding(e) {
                console.log('sliding')

                if (e.id == "r1") {

                    $('#min').val(e.value)
                } else {
                    document.getElementById('max').value = e.value
                }
            }

            function payonDelivery(data, min, max) {
                let minimum = min;
                let maximum = max
                // console.log(' pay on delivery');
                let inputCheck = document.getElementById('COD');
                let results = document.getElementsByClassName('results')[0];
                results.innerHTML = "";
                if (inputCheck != undefined) {
                    if (inputCheck.checked) {
                        for (let ww = 0; ww < data.length; ww++) {
                            var bnao1;
                            for (let qw = 0; qw < data[ww].stores.length; qw++) {
                                // let store = Object.keys(data[ww].stores[qw])
                                if (data[ww].stores[qw].hasOwnProperty('cod')) {
                                    if (data[ww].stores[qw].cod == ("1")) {
                                        // console.log(sortedData)
                                        bnao1 = 1;
                                    } else {
                                        bnao1 = 0;
                                        break;
                                    }
                                }
                            }
                            if ((bnao1 == 1) && (data[ww].stores[0].price >= minimum) && (data[ww].stores[0].price <= maximum)) {
                                creatingBody(data[ww])
                            }
                        }
                    } else {
                        for (let y = 0; y < data.length; y++) {
                            if (data[y].stores[0].price >= minimum && data[y].stores[0].price <= maximum) {
                                creatingBody(data[y])
                            }
                        }
                    }
                } else {
                    for (let y = 0; y < data.length; y++) {
                        if (data[y].stores[0].price >= minimum && data[y].stores[0].price <= maximum) {
                            creatingBody(data[y])

                        }
                    }

                }
            }

            function creatingBody(data) {
                let results = document.getElementsByClassName('results')[0];
                // let results = document.createElement('div')
                // results.className ='results'

                let resultsCont = document.createElement('a');
                resultsCont.className = "resultsCont";
                let s = `/mobile/${brandName}-mobiles/`
                resultsCont.href = s + data.name.replace(/ /g, "-").toLowerCase() + "/" + data.id;
                // console.log(newData.product_id)
                let imageDiv = document.createElement('div');
                imageDiv.className = "imagesOuter";
                let imagechecking = document.createElement('div');
                imagechecking.className = "imageChecking";
                let image = document.createElement('img');
                image.setAttribute('src', data.image);
                image.className = "imageClass";
                let titleDiv = document.createElement('div');
                titleDiv.className = "titleDiv";
                let title = document.createElement('h3');
                title.className = "title";
                title.textContent = data.name;
                titleDiv.appendChild(title)
                if (data.hasOwnProperty('rating') && parseInt(data.rating) > 0) {
                    var review = document.createElement('div');
                    review.className = "review";
                    var div = document.createElement('div');
                    // span.textContent = 
                    var spantext = document.createElement('span');
                    spantext.textContent = data.rating + '/5';
                    var imgOfstar = document.createElement('img');
                    imgOfstar.setAttribute('src', '/images/star.png')
                    div.appendChild(spantext)
                    div.appendChild(imgOfstar);
                    review.appendChild(div)
                    titleDiv.appendChild(review)
                }
                // title.appendChild(h3)
                // console.log(newData.product_id + "this is id")
                // console.log(JSON.stringify(newJson));
                let specsKey = document.createElement('div');
                specsKey.className = "specsKey";
                let listOfSpec = document.createElement('ul');
                listOfSpec.className = "specList";
                var listItem;
                try {
                    for (let r = 0; r < data.spec.length; r++) {
                        // let fontOfListing = document.createElement('h3');
                        listItem = document.createElement('li');
                        listItem.className = "listItem";
                        listItem.innerHTML = data.spec[r];
                        // listItem.appendChild(fontOfListing);
                        listOfSpec.appendChild(listItem);

                    }
                    specsKey.appendChild(listOfSpec)
                } catch {
                    console.log("specification nahi hai iski")
                }
                // console.log("nenwenwneknkwer" + newJson.stores)
                let pricesDiv = document.createElement('div');
                pricesDiv.className = "pricesDiv";
                let priceTag;
                // var prodStoreInfo = [];
                var z = 0;
                var prodStoreInfo = [];
                // console.log("cheking ho rha hai")
                // var sortingAndAlloting = function (apnaData) {
                //     for (let l = 0; l < apnaData.length; l++) {
                //         let storing = Object.keys(apnaData.stores[l]);
                //         if (apnaData.stores[l][storing[0]].hasOwnProperty('logo')) {
                //             if ((apnaData.data.stores[l][storing[0]]['price'] || apnaData.data.stores[l][storing[0]]['product_mrp']) != (undefined || null || "0" || 0)) {
                //                 prodStoreInfo[z] = {};
                //                 prodStoreInfo[z]['store'] = storing[0];
                //                 if (apnaData.data.stores[l][storing[0]]['product_price'] != (undefined || null || 0 || "0")) {
                //                     prodStoreInfo[z]['price'] = parseInt(apnaData.data.stores[l][storing[0]]['product_price']);
                //                     // console.log(`${storing[0]}  ${"price"}  ${prodStoreInfo[z][storing[0]]['price']}`)
                //                 } else {
                //                     prodStoreInfo[z]['price'] = apnaData.data.stores[l][storing[0]]['product_mrp']
                //                     // console.log(`${}  ${"price"}  ${prodStoreInfo[z][storing[0]]['mrp']}`)

                //                 }
                //                 prodStoreInfo[z]['url'] = {}
                //                 prodStoreInfo[z]['url'] = apnaData.data.stores[l][storing[0]]['product_store_url']
                //                 prodStoreInfo[z]['logo'] = apnaData.data.stores[l][storing[0]]['product_store_logo']
                //                 z++;
                //             }
                //         }
                //     }
                //     prodStoreInfo.sort((y, x) => {
                //         return parseFloat(y.price) - parseFloat(x.price)
                //     })
                //     return prodStoreInfo

                // }
                // let prodStore = sortingAndAlloting(data.stores);
                // console.log(prodStore)
                // print(type)
                data.stores.sort((y, x) => {
                    return parseFloat(y.price) - parseFloat(x.price)
                })
                var mrpTag = document.createElement('div');
                mrpTag.className = 'mrpTag';
                console.log(data.mrp.length > 0)
                if (data.mrp.length > 0 && data.stores.length > 0) {
                    console.log('iske andar')
                    let best = (data.stores[0].price);
                    let bestPrice = document.createElement('span');
                    console.log(best)
                    // bestPrice.classList  = 'bestPrice'
                    bestPrice.innerHTML = '&#x20B9;' + best;
                    let num = parseInt(data.mrp)
                    console.log(num)
                    mrpTag.appendChild(bestPrice)

                    // let num =(data.mrp)
                    // console.log(num)
                    // console.log(num>prodStore[prodStore.length-1].price)
                    // console.log(prodStore[prodStore.length-1].price)
                    console.log(num, data.stores[0].price)
                    console.log(num !== data.stores[0].price)
                    if (num !== data.stores[0].price || (data.stores[data.stores.length - 1].price) > num) {
                        console.log('iske bhi andar')
                        let mrp = num > (data.stores[data.stores.length - 1].price) ? data.mrp : data.stores[data.stores.length - 1].price;
                        console.log(data.mrp > data.stores[data.stores.length - 1].price ? data.mrp : data.stores[data.stores.length - 1].price)

                        let mrpheading = document.createElement('span');
                        mrpheading.innerHTML = '&#x20B9;' + mrp;
                        let off = document.createElement('span');
                        off.textContent = Math.round(((mrp - best) / mrp) * 100) + "% Off!"
                        console.log(Math.round((best / mrp) * 100))
                        mrpTag.appendChild(mrpheading)
                        mrpTag.appendChild(off)
                    }
                    titleDiv.appendChild(mrpTag)
                    // let mrpTag = document.createElement('h4');
                    // mrpTag.innerHTML = '&#x20B9;' +mrp;
                    titleDiv.appendChild(mrpTag)
                } else if (data.mrp.length == 0 && data.stores.length > 1) {
                    console.log('second andar')
                    let best = data.stores[0].price;
                    let bestPrice = document.createElement('span');
                    // bestPrice.classList  = 'bestPrice'
                    bestPrice.innerHTML = '&#x20B9;' + best;
                    mrpTag.appendChild(bestPrice)
                    if (data.stores.length > 1) {
                        let mrp = data.stores[data.stores.length - 1].price;
                        let mrpheading = document.createElement('span');
                        mrpheading.innerHTML = '&#x20B9;' + mrp;
                        let off = document.createElement('span');
                        off.textContent = Math.round(((mrp - best) / mrp) * 100) + "% Off!"
                        console.log(Math.round((best / mrp) * 100))
                        mrpTag.appendChild(mrpheading)
                        mrpTag.appendChild(off)
                    }
                    titleDiv.appendChild(mrpTag)
                    // let mrpTag = document.createElement('h4');
                    // mrpTag.innerHTML = '&#x20B9;' +mrp;
                    titleDiv.appendChild(mrpTag)
                } else if (data.mrp.length > 1) {
                    console.log('aa gya')
                    let best = data.mrp;
                    let bestPrice = document.createElement('span');
                    // bestPrice.classList  = 'bestPrice'
                    bestPrice.innerHTML = '&#x20B9;' + best;
                    mrpTag.appendChild(bestPrice)
                    titleDiv.appendChild(mrpTag)
                    // let mrpTag = document.createElement('h4');
                    // mrpTag.innerHTML = '&#x20B9;' +mrp;
                    titleDiv.appendChild(mrpTag)
                }
                titleDiv.appendChild(specsKey)
                var tableOflogo = document.createElement('table');
                tableOflogo.className = "tableOfLogo";
                for (let m = 0; m < data.stores.length; m++) {
                    let linking = document.createElement('a');
                    let headingPrice = document.createElement('h4');
                    // console.log(prodStore[m].price);
                    // console.log(prodStore[m].logo)
                    let rowPrice = document.createElement('tr');
                    let colLogo = document.createElement('td');
                    let imgLogo = document.createElement('img');
                    imgLogo.setAttribute('src', data.stores[m].logo);
                    colLogo.appendChild(imgLogo);
                    let priceTag = document.createElement('td');
                    headingPrice.innerHTML = "&#x20B9;" + data.stores[m].price;
                    // console.log(m)
                    if (m == 0) {
                        headingPrice.style.fontSize = "2vw";
                    } else {
                        headingPrice.style.fontSize = "1.3vw"
                    }
                    headingPrice.style.fontWeight = '400'

                    linking.setAttribute('href', data.stores[m].link);
                    linking.appendChild(headingPrice);
                    priceTag.appendChild(linking)
                    rowPrice.appendChild(colLogo);
                    rowPrice.appendChild(priceTag);
                    tableOflogo.appendChild(rowPrice)
                }
                let compareDivision = document.createElement('div');
                compareDivision.className = "compareDivision";
                var labelOfCompare = document.createElement('label');
                labelOfCompare.className = "labelOfCompare"
                let spanOfBox = document.createElement('span')
                spanOfBox.className = "spanOfBox"
                var inputOfPayDelivery = document.createElement('input');
                inputOfPayDelivery.setAttribute('onclick', "comp(this)");
                let spanOfText = document.createElement('span');
                // spanOfText.style.position = "absolute";
                spanOfText.style.display = "inline-block"
                spanOfText.textContent = "Compare Specs"
                spanOfText.style.marginLeft = "30px"
                spanOfText.style.color = "#551A8B"
                inputOfPayDelivery.id = data.id;
                inputOfPayDelivery.type = "checkbox";
                inputOfPayDelivery.name = data.sub;
                inputOfPayDelivery.value = data.id
                labelOfCompare.setAttribute('for', data.id);
                var spanforCheckBox = document.createElement('span');
                spanforCheckBox.className = 'spanforCheckBox';
                labelOfCompare.appendChild(inputOfPayDelivery);
                labelOfCompare.appendChild(spanOfBox)
                labelOfCompare.appendChild(spanforCheckBox);
                labelOfCompare.appendChild(spanOfText);
                // let labelCompare = document.createElement('label');
                // labelCompare.className = 'labelCompare';
                // labelCompare.setAttribute('for',newData.product_id);
                // let checkBoxInput = document.createElement('input');
                // checkBoxInput.className = 'checkBoxInput';
                // checkBoxInput.setAttribute('type','checkbox');
                // checkBoxInput.id= newData.product_id;
                // let divOfCheckBox = document.createElement('div');
                // divOfCheckBox.className = 'divOfCheckBox';
                // labelCompare.appendChild(checkBoxInput);
                // labelCompare.appendChild(divOfCheckBox);
                // var spanElement = document.createElement('div');
                // spanElement.textContent   =  "Add To Compare";
                // spanElement.style.display   =  "inline-block"
                // labelCompare.appendChild(spanElement);
                compareDivision.appendChild(labelOfCompare);
                pricesDiv.appendChild(tableOflogo);
                pricesDiv.appendChild(compareDivision);
                imagechecking.appendChild(image)
                imageDiv.appendChild(imagechecking);
                // titleDiv.appendChild(title);
                // titleDiv.appendChild(listOfSpec)/;
                resultsCont.appendChild(imageDiv);
                resultsCont.appendChild(titleDiv);
                resultsCont.appendChild(pricesDiv);
                results.appendChild(resultsCont);
            }



            // let labeling = ('labelOfBrand')
            $('#labelOfBrand').on("click", function () {
                // console.log(this)
                // console.log(min.value,max.value)

                // console.log(sortedData[smallest].product_lowest_price, sortedData[greatest].product_lowest_price)
                payonDelivery(response.data, parseFloat(min.value), parseFloat(max.value));

            });
            $('#min').on('change', () => {
                console.log('triggered')
                console.log($('#min').val() + "min value")
                // let val = $('#min').val() > response.data[smallest].stores[0]
                let val = parseFloat($('#min').val())
                let maxVal = parseFloat($('#max').val())
                let gm = (greatNum)
                let sm = (smallNum)
                if (val > gm) {
                    val = gm

                }
                if (val > maxVal) {
                    val = maxVal

                }
                if (val < sm) {
                    val = sm

                }

                $('#min').val(val)
                slider.noUiSlider.set([val]);
                // $("#slider").slider("values", 0, val);

                payonDelivery(response.data, parseFloat($('#min').val()), parseFloat($('#max').val()))

            })
            $('#max').on('change', () => {
                console.log('new')
                console.log($('#max').val() + "min value")
                // let val = $('#min').val() > response.data[smallest].stores[0]
                let val = parseFloat($('#max').val())
                let minVal = parseFloat($('#min').val())
                let gm = (greatNum)
                let sm = (smallNum)
                if (val > gm) {
                    val = gm
                }
                if (val < minVal) {
                    val = minVal
                }
                if (val < sm) {
                    val = sm
                }
                // if(val <)
                $('#max').val(val)
                slider.noUiSlider.set([, val]);
                // $("#slider").slider("values", 1, val);
            })
            $(':button').on('click', function () {
                // $this = e
                // e.preventDefault()
                val = $(this).attr('value');
                console.log(val)
                if (val == "pd") {
                    $(this).css({
                        'display': 'none'
                    })
                    document.getElementById('COD').checked = false
                    // $(this).
                } else if (val == "pr") {
                    $(this).css({
                        'display': 'none'
                    })
                    console.log(smallNum)
                    console.log(greatNum)
                    $('#min').val(smallNum)
                    $('#max').val(greatNum)
                    slider.noUiSlider.set([smallNum, greatNum]);

                    // payonDelivery
                }
                // $("#slider").slider("values", 0, smallNum);
                // $("#slider").slider("values", 1, greatNum);
                payonDelivery(response.data, parseFloat($('#min').val()), parseFloat($('#max').val()))

            })

            function animatingMessage(msg, showOrNot) {
                // console.log(showOrNot)
                document.getElementsByClassName('overlay')[0].style.display = "block"
                document.querySelector('.messageBox h4').textContent = msg;
                document.getElementsByClassName('messageBox')[0].style.display = "flex"
                if ((showOrNot)) {
                    document.querySelectorAll('.messageBox div')[0].style.display = "none"
                }
                $('.messageBox div').on('click', () => {
                    document.getElementsByClassName('overlay')[0].style.display = "none"
                    document.querySelector('.messageBox').style.display = "none";
                    showingAlertBox();
                })

                setTimeout(() => {
                    document.getElementsByClassName('overlay')[0].style.display = "none"
                    document.getElementsByClassName('messageBox')[0].style.display = "none"
                    document.querySelectorAll('.messageBox div')[0].style.display = "inline-block"
                    //  document.querySelector('.messageBox h4').textContent = ""
                    // document.getElementsByClassName('messageBox')[0].textContent = ""

                }, 6000)
            }
            var idList = []
            let spanOfItem = document.createElement('div');
            spanOfItem.style.width = "20px"

            function comp(el) {
                let divOfPopUp = document.getElementsByClassName('divOfPopUp')[0]
                console.log(idList)
                if (el.checked) {
                    if (idList.length == 0) {
                        categ = el.name
                        console.log(categ)
                    }
                    // console.log(el.id)
                    if (!(el.id in idList)) {
                        // console.log(el.name)
                        if (categ == el.name) {
                            if (idList.length < 3) {
                                idList.push(el.id)
                                // console.log(idList.length)
                            } else {
                                el.checked = false;
                                animatingMessage('Three Products Are Not Enough?', false)
                                return
                            }
                        } else {
                            el.checked = false
                            animatingMessage('You Can Compare Products Of Same Category', false)
                            return
                        }
                    }
                } else {
                    var newIndex = idList.indexOf(el.id)
                    // console.log(newIndex);
                    if (newIndex == idList.length - 1) {
                        idList.pop()
                        // console.log(idList)
                    } else {
                        idList.splice(newIndex, newIndex + 1)
                    }
                }
                if (idList.length > 0) {
                    divOfPopUp.style.display = "block"
                    spanOfItem.textContent = idList.length;
                    divOfPopUp.prepend(spanOfItem)
                } else {
                    divOfPopUp.style.display = "none"
                }
            }

            function disabling(el) {
                if ((el.checked)) {
                    $('button[value="pd"]').css({
                        'display': 'block'
                    })
                } else {
                    $('button[value="pd"]').css({
                        'display': 'none'
                    })
                }
            }
            $('.divOfPopUp:first').on('click', showingAlertBox)

            function showingAlertBox() {
                // e.preventDefault();
                var alertBox = document.getElementById('alertBox');
                var relating = document.getElementById('relating');
                relating.innerHTML = ""
                // let wrapperAlert = document.getElementById('wrapperAlert')
                document.getElementById('disableBody').style.display = 'block';
                alertBox.style.visibility = "hidden"
                // var widthOfAlertBox = document.getElem
                document.getElementById('alertBox').style.display = "block";
                document.getElementsByTagName('html')[0].style.overflow = "hidden";
                let headingOfCompareAlert = document.createElement('h3')
                headingOfCompareAlert.className = "headingOfCompareAlert";
                headingOfCompareAlert.textContent = "Products To Compare"
                let divOfMainProd = document.createElement('div');
                divOfMainProd.className = "divOfMainProd"
                // divOfProduct.style.width = 
                for (let jj = 0; jj < idList.length; jj++) {
                    for (let rr = 0; rr < response.data.length; rr++) {
                        // console.log('we are in loop')
                        // console.log(newJson[rr].product_id)
                        // console.log(idList[jj])
                        if (idList[jj] == response.data[rr].id) {
                            // console.log(newJson[rr].data.product_id)
                            // console.log(idList[jj])
                            let divOfProduct = document.createElement('div');
                            divOfProduct.className = "divOfProd";
                            let divOfHeadingbrand = document.createElement('div');
                            divOfHeadingbrand.className = "divOfHeadingbrand"
                            let headingOfBrand = document.createElement('h3');
                            // headingOfBrand.className = "headingOfBrand";
                            // headingOfBrand.style.marginLeft = "auto";
                            // headingOfBrand.style.marginRight = "auto"
                            // headingOfBrand.style.maxWidth = "80%"
                            // headingOfBrand.style.overflow = "hidden"
                            // headingOfBrand.style.marginBottom = "10px"
                            headingOfBrand.textContent = response.data[rr].name;
                            // headingOfBrand.style.float ="center"
                            // headingOfBrand.style.width = "100%";
                            var spanofCloseHeading = document.createElement('span')
                            spanofCloseHeading.className = "spanOfCloseHeading"
                            spanofCloseHeading.innerHTML = "&times;"
                            // spanofCloseHeading.setAttribute('data-num' , jj)
                            spanofCloseHeading.style.cursor = "pointer"
                            spanofCloseHeading.style.marginRight = "0px"
                            let divOfImageComp = document.createElement('div');
                            divOfImageComp.className = "divOfImageComp";

                            // divOfImageComp.style.height = "10%"
                            // divOfImageComp.style.height = (relating.offsetHeight * 80)/100  +"px";                    
                            // divOfImageComp.style.marginLeft = "auto";
                            // divOfImageComp.style.marginRight = "auto"
                            let imageOfProd = document.createElement('img');
                            imageOfProd.src = response.data[rr].image;
                            imageOfProd.style.maxWidth = "100%";
                            imageOfProd.style.maxHeight = "100%";

                            imageOfProd.className = "imageOfProd";
                            divOfImageComp.appendChild(imageOfProd);
                            divOfHeadingbrand.appendChild(headingOfBrand);
                            divOfHeadingbrand.appendChild(spanofCloseHeading)
                            divOfProduct.appendChild(divOfHeadingbrand)
                            divOfProduct.appendChild(divOfImageComp)
                            divOfMainProd.appendChild(divOfProduct)
                        }
                    }
                }
                relating.appendChild(headingOfCompareAlert);
                relating.appendChild(divOfMainProd);

                alertBox.style.visibility = "visible"

                let winW = window.innerWidth;
                let winh = window.innerHeight;
                alertBox.style.left = (winW / 2) - (alertBox.offsetWidth / 2) + "px"
                alertBox.style.top = (winh / 2) - (alertBox.offsetHeight / 2) + "px";
                let form = document.createElement('form');
                form.setAttribute('method', "GET")
                form.setAttribute('action', '/product')
                let divTypeButton = document.createElement('div');
                divTypeButton.id = "divOfCompareButton"
                divTypeButton.type = "submit";
                let h3OfCompare = document.createElement('h3')
                h3OfCompare.textContent = "Compare"
                h3OfCompare.style.margin = "auto"
                h3OfCompare.style.color = "whitesmoke"
                divTypeButton.appendChild(h3OfCompare)
                var inputtype = document.createElement('input');
                inputtype.name = "pids"
                inputtype.type = "text";
                inputtype.value = idList;
                inputtype.style.display = "none"
                form.appendChild(inputtype)
                form.appendChild(divTypeButton)
                form.style.height = "10%"
                relating.appendChild(form)
                var $spanClose = $('.spanOfCloseHeading')
                $spanClose.on('click', (e) => {
                    // ksndflslkdnfn
                    console.log($('.spanOfCloseHeading').index(e.target))
                    let element = $('.spanOfCloseHeading').index(e.target)
                    // console.log(element)
                    e.target.className = ""
                    // console.log(document.getElementsByName('pids')[0].value)
                    document.getElementsByClassName('divOfMainProd')[0].removeChild(document.getElementsByClassName('divOfProd')[element])
                    // document.getElementsByClassName('divOfProd')[element].className = ""
                    // document.getElementsByClassName('divOfProd')[element].style.display = "none"
                    let valueOfNew = document.getElementsByName('pids')[0].value.split(",");
                    document.querySelector('.results label[for=' + '"' + valueOfNew[element] + '"]' + ' input').checked = false
                    // console.log(valueOfNew[element])
                    // console.log(valueOfNew)
                    if (element == valueOfNew.length - 1) {
                        valueOfNew.pop()
                        idList.pop()
                    } else {
                        valueOfNew.splice(element, 1)
                        idList.splice(element, 1)
                    }


                    if (valueOfNew.length > 0) {
                        document.getElementsByName('pids')[0].value = valueOfNew;
                        // console.log(document.getElementsByName('pids')[0].value)
                        // console.log(valueOfNew)
                    } else {
                        // let msgBox = document.getElementsByClassName('messageBox')[0]

                        alertBox.style.display = "none";
                        relating.innerHTML = ""
                        document.getElementById('disableBody').style.display = 'none';
                        document.getElementsByTagName('html')[0].style.overflow = "scroll"
                        document.getElementsByClassName('divOfPopUp')[0].style.display = "none"
                        animatingMessage("Add Products To Compare", true)

                        console.log('to sal')
                    }
                    // console.log('final value o new')
                    // console.log(valueOfNew)

                })
                // console.log($('divOfCompareButton')[0])
                $('#divOfCompareButton').on('click', () => {
                    if (document.getElementsByName('pids')[0].value.split(",").length > 1) {
                        document.forms[1].submit()
                    } else {
                        animatingMessage('Add Atleast One More Product', true)
                    }
                })
                $('#closePopUp span').on('click', () => {
                    //   if(document.getElementById('animating')){
                    document.getElementById("headContainer").style.zIndex = "49";
                    document.getElementById('animating').style.display = "none"
                    document.getElementById('alertBox').style.display = "none"
                    document.getElementsByTagName('html')[0].style.overflow = "scroll"
                    document.getElementById('disableBody').style.display = "none"


                })

            }

            $('#sb').on('change', function () {
                let val = $(this).val()
                let clone = JSON.parse(JSON.stringify(response))
                if (val == "l") {
                    let lp = ltp(true, clone)
                    console.log(lp)
                    console.log(response)
                    payonDelivery(lp, parseFloat($('#min').val()), parseFloat($('#max').val()))
                } else if (val == "p") {
                    let pt = ltp(false, clone)
                    console.log(pt)
                    console.log(response)
                    payonDelivery(pt, parseFloat($('#min').val()), parseFloat($('#max').val()))
                } else {
                    payonDelivery(response.data, parseFloat($('#min').val()), parseFloat($('#max').val()))

                }

            })
            function ltp(t, clone) {
                // let y = response
                if (t) {
                    let n = clone.data.sort((y, x) => { return y.stores[0].price - x.stores[0].price })
                    return n
                } else {
                    return clone.data.sort((x, y) => { return y.stores[0].price - x.stores[0].price })
                }

            }
        </script>

    </div>

    </div>

    <!-- ---------------------------------------------------------------------------------------------------------- -->
    <div id="footKaBaap">
        <footer id="footer">
            <div id="upFoot">
                <div class="divs1 dob">
                    <div class="footInfo">
                        <h2>Prices Compare</h2>
                        <img src="https://th.bing.com/th/id/OIP.QDohBW7QbDHjI7ui_cHT4gHaGw?w=217&h=198&c=7&o=5&pid=1.7">
                    </div>
                </div>
                <div class="divs2 dob">
                    <div id="mySpan"></div>
                    <div class="footInfo">
                        <h2>About</h2>
                        <p>advertise with us</p>
                        <p>Privacy</p>
                        <p><a></a>Contact Us</p>

                    </div>

                </div>

                <div class="divs3 dob">
                    <div id="mySpan"></div>
                    <div class="footInfo">
                        <h2>Follow Us On</h2>
                        <p>Facebook</p>
                        <p>Twitter</p>
                        <p>Instagram</p>
                        <p>Credits</p>

                    </div>
                </div>

                <div class="divs4 dob">
                    <div id="mySpan"></div>

                    <div class="footInfo">
                        <h2>Get To Know Us</h2>
                        <p>About Us</p>
                        <p>Terms of use</p>
                    </div>
                </div>
            </div>
            <div id="downFoot">
                <h2>© 2020 Copyright : </h2>&nbsp;&nbsp;&nbsp; <h2 class="h2a"><a
                        style="color: white;text-decoration: none;" href="http://www.piricescompare.in">
                        PricesCompare.in</a></h2>
            </div>
        </footer>
    </div>
</body>
<!-- <scr src="/javascripts/mob.js"></scr> -->

</html>